(()=>{"use strict";class e{setName(e){this.name=e}setAmountOfVisitors(e){this.visitors=visitors}}class t{constructor(){this.isFilled=!1,this.fillType=null,this.id=null}setId(){this.id=new DateTime}getId(){return this.id}setFilled(e){this.isFilled=e,this.setId()}getFilled(){return this.isFilled}setFillType(e){this.fillType=e}getFillType(){return this.fillType}}class a{constructor(){this.array=[];for(var e=0;e<15;e++){this.array[e]=[];for(var a=0;a<15;a++)this.array[e][a]=new t}}canPlace(e,t,a){switch(a){case"tent":return this.canPlaceTent(e,t);case"drinkStand":return this.canPlaceDrinkStand(e,t);case"foodStand":return this.canPlaceFoodStand(e,t);case"toiletBuilding":return this.canPlaceToilets(e,t);case"trashcan":return this.canPlaceTrashcans(e,t);case"highTree":return this.canPlaceHighTrees(e,t);case"wideTree":return this.canPlaceWideTrees(e,t);case"shadowTree":return this.canPlaceShadowTrees(e,t);case"default":return!0}}placeItem(e,t,a){switch(a){case"tent":this.placeTent(e,t);break;case"drinkStand":this.placeDrinkStand(e,t);break;case"foodStand":this.placeFoodStand(e,t);break;case"toiletBuilding":this.placeToilets(e,t);break;case"trashcan":this.placeTrashcans(e,t);break;case"highTree":this.placeHighTrees(e,t);break;case"wideTree":this.placeWideTrees(e,t);break;case"shadowTree":this.placeShadowTrees(e,t)}}deleteItem(e,t,a){switch(a){case"tent":this.deleteTent(e,t);case"drinkStand":this.deleteDrinkStand(e,t);break;case"foodStand":this.deleteFoodStand(e,t);break;case"toiletBuilding":this.deleteToilets(e,t);break;case"trashcan":this.deleteTrashcans(e,t);break;case"highTree":this.deleteHighTrees(e,t);break;case"wideTree":this.deleteWideTrees(e,t);break;case"shadowTree":this.deleteShadowTrees(e,t)}}getItem(e,t){return this.array[e][t].getFillType()}placeTent(e,t){this.array[e-1][t-1].setFillType("tentSurface"),this.array[e][t-1].setFillType("tentSurface"),this.array[e+1][t-1].setFillType("tentSurface"),this.array[e-1][t].setFillType("tentSurface"),this.array[e+1][t].setFillType("tentSurface"),this.array[e-1][t+1].setFillType("tentSurface"),this.array[e][t+1].setFillType("tentSurface"),this.array[e+1][t+1].setFillType("tentSurface"),this.array[e][t].setFillType("tent")}placeFoodStand(e,t){this.array[e][t].setFillType("foodStand")}placeDrinkStand(e,t){this.array[e][t-1].setFillType("drinkStandSurface"),this.array[e][t].setFillType("drinkStand")}placeToilets(e,t){this.array[e][t-1].setFillType("toiletSurface"),this.array[e][t+1].setFillType("toiletSurface"),this.array[e][t].setFillType("toilet")}placeHighTrees(e,t){this.array[e][t].setFillType("highTree")}placeWideTrees(e,t){this.array[e][t].setFillType("wideTree"),this.array[e+1][t].setFillType("wideTreeSurface")}placeShadowTrees(e,t){this.array[e-1][t-1].setFillType("shadowTreeSurface"),this.array[e][t-1].setFillType("shadowTreeSurface"),this.array[e+1][t-1].setFillType("shadowTreeSurface"),this.array[e-1][t].setFillType("shadowTreeSurface"),this.array[e+1][t].setFillType("shadowTreeSurface"),this.array[e-1][t+1].setFillType("shadowTreeSurface"),this.array[e][t+1].setFillType("shadowTreeSurface"),this.array[e+1][t+1].setFillType("shadowTreeSurface"),this.array[e][t].setFillType("shadowTree")}placeTrashcans(e,t){this.array[e][t].setFillType("trashcan")}deleteTent(e,t){this.array[e-1][t-1].setFillType(null),this.array[e][t-1].setFillType(null),this.array[e+1][t-1].setFillType(null),this.array[e-1][t].setFillType(null),this.array[e+1][t].setFillType(null),this.array[e-1][t+1].setFillType(null),this.array[e][t+1].setFillType(null),this.array[e+1][t+1].setFillType(null),this.array[e][t].setFillType(null)}deleteFoodStand(e,t){this.array[e][t].setFillType(null)}deleteDrinkStand(e,t){this.array[e][t-1].setFillType(null),this.array[e][t].setFillType(null)}deleteToilets(e,t){this.array[e][t-1].setFillType(null),this.array[e][t+1].setFillType(null),this.array[e][t].setFillType(null)}deleteHighTrees(e,t){this.array[e][t].setFillType(null)}deleteWideTrees(e,t){this.array[e][t].setFillType(null),this.array[e+1][t].setFillType(null)}deleteShadowTrees(e,t){this.array[e-1][t-1].setFillType(null),this.array[e][t-1].setFillType(null),this.array[e+1][t-1].setFillType(null),this.array[e-1][t].setFillType(null),this.array[e+1][t].setFillType(null),this.array[e-1][t+1].setFillType(null),this.array[e][t+1].setFillType(null),this.array[e+1][t+1].setFillType(null),this.array[e][t].setFillType(null)}deleteTrashcans(e,t){this.array[e][t].setFillType(null)}canPlaceTent(e,t){return!(e<1||t<1||e>13||t>13)&&null==this.array[e-1][t-1].getFillType()&&null==this.array[e][t-1].getFillType()&&null==this.array[e+1][t-1].getFillType()&&null==this.array[e-1][t].getFillType()&&null==this.array[e+1][t].getFillType()&&null==this.array[e-1][t+1].getFillType()&&null==this.array[e][t+1].getFillType()&&null==this.array[e+1][t+1].getFillType()&&null==this.array[e][t].getFillType()}canPlaceFoodStand(e,t){return null==this.array[e][t].getFillType()}canPlaceDrinkStand(e,t){return!(t<1)&&null==this.array[e][t].getFillType()&&null==this.array[e][t-1].getFillType()}canPlaceToilets(e,t){return!(t<1||t>13)&&null==this.array[e][t].getFillType()&&null==this.array[e][t-1].getFillType()&&null==this.array[e][t+1].getFillType()}canPlaceHighTrees(e,t){return null==this.array[e][t].getFillType()}canPlaceWideTrees(e,t){return!(e>13)&&null==this.array[e][t].getFillType()&&null==this.array[e+1][t].getFillType()}canPlaceShadowTrees(e,t){return!(e<1||t<1||e>13||t>13)&&null==this.array[e-1][t-1].getFillType()&&null==this.array[e][t-1].getFillType()&&null==this.array[e+1][t-1].getFillType()&&null==this.array[e-1][t].getFillType()&&null==this.array[e+1][t].getFillType()&&null==this.array[e-1][t+1].getFillType()&&null==this.array[e][t+1].getFillType()&&null==this.array[e+1][t+1].getFillType()&&null==this.array[e][t].getFillType()}canPlaceTrashcans(e,t){return null==this.array[e][t].getFillType()}}class l{setName(e){this.name=e}setAmountOfVisitors(e){this.visitors=visitors}}let i=localStorage.getItem("data"),r=JSON.parse(i);console.log(r);const n=new class{constructor(e){e.locations.length<=0?(this.locations=[new l],this.currentLocation=null):null!=e?(console.log("hier"),this.locations=e.locations,this.currentLocation=e.currentLocation):(this.locations=[new l],this.currentLocation=null),console.log(this)}addLocation(e){this.locations.push(e)}deleteLocation(e){this.locations.splice(e-1,1)}getLocation(e){return this.locations[e-1]}}(r);localStorage.setItem("data",JSON.stringify(n));const s=new class{init(e,t,a){this.mainController=e,this.navigationController=t,this.stepController=a}generateStep(e,t,a){switch(t){case 1:this.generateStep1(e);break;case 2:console.log("stap 2");break;default:console.log(t+"default zou niet moeten!")}}generateStep1(e){let t=document.getElementById("configuration_block");t.className="h-full";let a=document.createElement("input");a.setAttribute("type","text"),a.id="nameInput";let l=document.createElement("label");l.htmlFor="nameInput",l.innerHTML="Name: ";let i=document.createElement("div");i.appendChild(l),i.appendChild(a);let r=document.createElement("input");r.setAttribute("type","number"),r.id="visitorsInput";let n=document.createElement("label");n.htmlFor="visitorseInput",n.innerHTML="Visitors: ";let s=document.createElement("div"),o=document.createElement("button");o.innerHTML="next step",o.className="p-2 bg-green-500 hover:bg-green-800 hover:text-white w-full",i.className="mb-5 flex flex-col",s.className="mb-5 flex flex-col",s.appendChild(n),s.appendChild(r),t.appendChild(i),t.appendChild(s),t.appendChild(o)}},o=new class{constructor(){}init(e,t,a){this.mainController=e,this.navigationController=t,this.stepController=a,document.getElementById("addLocation").addEventListener("click",(()=>{this.addLocation()})),this.navigationController.refreshNavigation()}test(){console.log(navigationController.getData())}deleteLocation(e){this.navigationController.deleteLocation(e)}addLocation(){this.navigationController.addLocation()}refreshNavigation(e){this.generateLocationMenu(e)}generateLocationMenu(e){this.clearNavigation();const t=document.getElementById("nav");let a=1;e.locations.forEach((function(e){null!=e.name&&e.name;const l=document.createElement("button");l.innerHTML="Naam",l.className="navbutton bg-gray-200 p-3 pb-2 hover:bg-gray-500 hover:text-white flex flex-row",l.id=`location${a}`;const i=document.createElement("button");i.id=`deletelocation${a}`,i.className=" bg-red-500 hover:bg-red-800 hover:text-white ml-4 pr-2 pl-2",i.innerHTML="X",l.appendChild(i),t.appendChild(l),a++}));for(let t=1;t<=e.locations.length;t++){let e=document.getElementById(`deletelocation${t}`);console.log(e),e.addEventListener("click",(()=>{this.deleteLocation(t)}))}}clearNavigation(){let e=document.getElementsByClassName("navbutton");for(;e.length>0;)e[0].parentNode.removeChild(e[0])}},d=new class{constructor(){this.windowSize=750,this.gridSize=15,this.paneSize=this.windowSize/this.gridSize}init(e){this.gridController=e,this.generateGrid(),this.generateImages(),this.dropEvents()}generateGrid(){let e=this.paneSize,t=this.windowSize;console.log(e);const a=document.getElementById("grid");a.style.position="relative",a.style.width=`${t}px`,a.style.height=`${t}px`;let l=this.gridSize,i=this.gridSize;for(let e=0;e<l;e++)for(let t=0;t<i;t++)r(t,e);function r(t,l){const i=document.createElement("div");i.className="border gridpane absolute border border-gray-100 hover:bg-gray-400 dropzone",i.id=`x${t}y${l}`,i.style.left=t*e+"px",i.style.top=l*e+"px",i.style.height=`${e}px`,i.style.width=`${e}px`,i.style.position="absolute",a.appendChild(i)}}drawGridItems(){for(let e=0;e<this.gridSize;e++)for(let t=0;t<this.gridSize;t++){let a=this.gridController.getItem(e,t);console.log(a),document.getElementById("x"+e+"y"+t).style.backgroundColor="white","tentSurface"==a||"tent"==a?document.getElementById("x"+e+"y"+t).style.backgroundColor="yellow":"drinkStandSurface"==a||"drinkStand"==a?document.getElementById("x"+e+"y"+t).style.backgroundColor="red":"toiletSurface"==a||"toilet"==a?document.getElementById("x"+e+"y"+t).style.backgroundColor="grey":"highTreeSurface"==a||"wideTreeSurface"==a||"shadowTreeSurface"==a||"highTree"==a||"wideTree"==a||"shadowTree"==a?document.getElementById("x"+e+"y"+t).style.backgroundColor="green":"foodStand"==a?document.getElementById("x"+e+"y"+t).style.backgroundColor="brown":"trashcan"==a&&(document.getElementById("x"+e+"y"+t).style.backgroundColor="grey")}}generateImages(){let e=document.getElementById("images_block");e.className="h-full draggable-items";let t=document.createElement("div");t.className="mb-5 flex flex-col",t.id="imageList",t.setAttribute("draggable","true"),t.style.width="50px",t.style.height="50px",this.gridController.tenten>0&&this.generateImage("tent",t,"Tenten",this.gridController.tenten),this.gridController.drankkramen>0&&this.generateImage("drinkStand",t,"Drankkramen",this.gridController.drankkramen),this.gridController.eetkramen>0&&this.generateImage("foodStand",t,"Eetkramen",this.gridController.eetkramen),this.gridController.toiletten>0&&this.generateImage("toiletBuilding",t,"Toiletten",this.gridController.toiletten),this.gridController.bredebomen>0&&this.generateImage("wideTree",t,"Bredebomen",this.gridController.bredebomen),this.gridController.hogebomen>0&&this.generateImage("highTree",t,"Hogebomen",this.gridController.hogebomen),this.gridController.prullenbakken>0&&this.generateImage("trashcan",t,"Prullenbakken",this.gridController.prullenbakken),this.gridController.schaduwbomen>0&&this.generateImage("shadowTree",t,"Schaduwbomen",this.gridController.schaduwbomen),e.appendChild(t)}generateImage(e,t,a,l){let i=document.createElement("div");i.className="mb-4 flex flex-col w-full";let r=document.createElement("div");r.className="flex flex-row w-full";for(let t=0;t<=l;t++){let t=document.createElement("img");t.src="../src/images/"+e+".png",t.id=e,t.setAttribute("draggable","true"),r.appendChild(t)}let n=document.createElement("label");n.htmlFor="amountInput",n.innerHTML=a+"="+l,i.appendChild(n),i.appendChild(r),t.appendChild(i)}dropEvents(){const e=document.querySelector(".dropzones");let t=null;function a(e){t=e.target}document.querySelector(".draggable-items").addEventListener("dragstart",a,!1),e.addEventListener("dragover",(e=>{e.preventDefault(),""!=t.parentNode.id&&this.gridController.deleteGridFill(t.parentNode.id,t.id)})),e.addEventListener("drop",(e=>{this.gridController.canPlace(e.target.id,t.id)?(e.preventDefault(),""!=t.parentNode.id&&this.gridController.deleteGridFill(t.parentNode.id,t.id),e.target.insertBefore(t,e.target.firstChild),this.gridController.setGridFill(e.target.id,t.id),t.addEventListener("dragstart",a),this.drawGridItems(),e.stopImmediatePropagation()):(alert("you cant place your item right here"),this.gridController.setGridFill(e.target.id,t.id),this.drawGridItems(),e.stopImmediatePropagation())}))}},h=new class{constructor(e){this.data=e}}(s,n),c=new class{constructor(e,t){this.data=t,this.navigationView=e}addLocation(){this.data.addLocation(new e),localStorage.setItem("data",JSON.stringify(this.data)),this.navigationView.refreshNavigation(this.data)}deleteLocation(e){this.data.deleteLocation(e),localStorage.setItem("data",JSON.stringify(this.data)),this.navigationView.refreshNavigation(this.data)}getData(){return this.data}refreshNavigation(){this.navigationView.refreshNavigation(this.data)}}(o,n),y=new class{constructor(e,t){this.data=t,this.mainView=e}setStep(e){}}(s,n),u=new class{constructor(e){this.data=e,this.mainGrid=new a,this.tenten=3,this.eetkramen=2,this.drankkramen=1,this.toiletten=4,this.prullenbakken=5,this.hogebomen=2,this.bredebomen=3,this.schaduwbomen=1}getData(){return data}canPlace(e,t){if(!e.includes("x")&&!e.includes("y"))return!1;let a=e.slice(e.indexOf("x")+1,e.indexOf("y")),l=e.slice(e.indexOf("y")+1,e.length);return a=parseInt(a),l=parseInt(l),this.mainGrid.canPlace(a,l,t)}setGridFill(e,t){let a=e.slice(e.indexOf("x")+1,e.indexOf("y")),l=e.slice(e.indexOf("y")+1,e.length);a=parseInt(a),l=parseInt(l),this.mainGrid.placeItem(a,l,t)}deleteGridFill(e,t){let a=e.slice(e.indexOf("x")+1,e.indexOf("y")),l=e.slice(e.indexOf("y")+1,e.length);a=parseInt(a),l=parseInt(l),this.mainGrid.deleteItem(a,l,t)}getItem(e,t){return this.mainGrid.getItem(e,t)}updateGridImages(e){switch(e){case"tent":this.tenten--;break;case"drink":this.drankkramen--;break;case"food":this.eetkramen--;break;case"toilet":this.toiletten--;break;case"prullenbak":this.prullenbakken--;break;case"hogeboom":this.hogebomen--;break;case"bredeboom":this.bredebomen--;break;case"schaduwboom":this.schaduwbomen--}}}(d,n);s.init(h,c,y),o.init(h,c,y),d.init(u)})();
//# sourceMappingURL=main.js.map