(()=>{"use strict";class e{constructor(){this.isFilled=!1,this.fillType=null}setFilled(e){this.isFilled=e}getFilled(){return this.isFilled}setFillType(e){this.fillType=e}getFillType(){return this.fillType}}class t{constructor(){this.array=[];for(var t=0;t<15;t++){this.array[t]=[];for(var n=0;n<15;n++)this.array[t][n]=new e}}}class n{setName(e){this.name=e}setAmountOfVisitors(e){this.visitors=visitors}}class i{setName(e){this.name=e}setAmountOfVisitors(e){this.visitors=visitors}}let a=localStorage.getItem("data"),o=JSON.parse(a);console.log(o);const l=new class{constructor(e){e.locations.length<=0?(this.locations=[new i],this.currentLocation=null):null!=e?(console.log("hier"),this.locations=e.locations,this.currentLocation=e.currentLocation):(this.locations=[new i],this.currentLocation=null),console.log(this)}addLocation(e){this.locations.push(e)}deleteLocation(e){this.locations.splice(e-1,1)}getLocation(e){return this.locations[e-1]}}(o);localStorage.setItem("data",JSON.stringify(l));const s=new class{constructor(){this.windowSize=750,this.gridSize=15,this.paneSize=this.windowSize/this.gridSize}init(e,t,n){this.mainController=e,this.navigationController=t,this.stepController=n,this.generateGrid(),n.setStep(1),this.generateImages(),this.dropEvents()}generateStep(e,t,n){switch(t){case 1:this.generateStep1(e);break;case 2:console.log("stap 2");break;default:console.log(t+"default zou niet moeten!")}}generateStep1(e){let t=document.getElementById("configuration_block");t.className="h-full";let n=document.createElement("input");n.setAttribute("type","text"),n.id="nameInput";let i=document.createElement("label");i.htmlFor="nameInput",i.innerHTML="Name: ";let a=document.createElement("div");a.appendChild(i),a.appendChild(n);let o=document.createElement("input");o.setAttribute("type","number"),o.id="visitorsInput";let l=document.createElement("label");l.htmlFor="visitorseInput",l.innerHTML="Visitors: ";let s=document.createElement("div"),r=document.createElement("button");r.innerHTML="next step",r.className="p-2 bg-green-500 hover:bg-green-800 hover:text-white w-full",a.className="mb-5 flex flex-col",s.className="mb-5 flex flex-col",s.appendChild(l),s.appendChild(o),t.appendChild(a),t.appendChild(s),t.appendChild(r)}generateGrid(){let e=this.paneSize,t=this.windowSize;console.log(e);const n=document.getElementById("grid");n.style.position="relative",n.style.width=`${t}px`,n.style.height=`${t}px`;let i=this.gridSize,a=this.gridSize;for(let e=0;e<i;e++)for(let t=0;t<a;t++)o(t,e);function o(t,i){const a=document.createElement("div");a.className="border gridpane absolute border border-black hover:bg-gray-400 dropzone",a.id=`x${t}y${i}`,a.style.left=t*e+"px",a.style.top=i*e+"px",a.style.height=`${e}px`,a.style.width=`${e}px`,a.style.position="absolute",n.appendChild(a)}}generateImages(){let e=document.getElementById("images_block");e.className="h-full draggable-items";let t=document.createElement("div");t.className="mb-5 flex flex-col",t.id="imageList",t.setAttribute("draggable","true"),t.style.width="50px",t.style.height="50px",this.mainController.tenten>0&&this.generateImage("tent",t,"Tenten",this.mainController.tenten),this.mainController.drankkramen>0&&this.generateImage("drink",t,"Drankkramen",this.mainController.drankkramen),this.mainController.eetkramen>0&&this.generateImage("food",t,"Eetkramen",this.mainController.eetkramen),this.mainController.toiletten>0&&this.generateImage("toilet",t,"Toiletten",this.mainController.toiletten),this.mainController.bredebomen>0&&this.generateImage("bredeboom",t,"Bredebomen",this.mainController.bredebomen),this.mainController.hogebomen>0&&this.generateImage("hogeboom",t,"Hogebomen",this.mainController.hogebomen),this.mainController.prullenbakken>0&&this.generateImage("prullenbak",t,"Prullenbakken",this.mainController.prullenbakken),this.mainController.schaduwbomen>0&&this.generateImage("schaduwboom",t,"Schaduwbomen",this.mainController.schaduwbomen),e.appendChild(t)}generateImage(e,t,n,i){var a=document.createElement("img");a.src="../src/images/"+e+".png",a.id=e,a.setAttribute("draggable","true");let o=document.createElement("label");o.htmlFor="amountInput",o.innerHTML=n+"="+i;let l=document.createElement("div");l.appendChild(a),l.appendChild(o),l.className="mb-4 flex flex-col w-full",t.appendChild(l)}dropEvents(){const e=document.querySelector(".dropzones");let t=null;function n(e){t=e.target}document.querySelector(".draggable-items").addEventListener("dragstart",n,!1),e.addEventListener("dragover",(e=>{e.preventDefault()})),e.addEventListener("drop",(e=>{e.preventDefault(),e.target.appendChild(t),t.removeEventListener("dragstart",n,!1),e.target.addEventListener("dragstart",(e=>{t=e.target}))}))}},r=new class{constructor(){}init(e,t,n){this.mainController=e,this.navigationController=t,this.stepController=n,document.getElementById("addLocation").addEventListener("click",(()=>{this.addLocation()})),this.navigationController.refreshNavigation()}test(){console.log(navigationController.getData())}deleteLocation(e){this.navigationController.deleteLocation(e)}addLocation(){this.navigationController.addLocation()}refreshNavigation(e){this.generateLocationMenu(e)}generateLocationMenu(e){this.clearNavigation();const t=document.getElementById("nav");let n=1;e.locations.forEach((function(e){null!=e.name&&e.name;const i=document.createElement("button");i.innerHTML="Naam",i.className="navbutton bg-gray-200 p-3 pb-2 hover:bg-gray-500 hover:text-white flex flex-row",i.id=`location${n}`;const a=document.createElement("button");a.id=`deletelocation${n}`,a.className=" bg-red-500 hover:bg-red-800 hover:text-white ml-4 pr-2 pl-2",a.innerHTML="X",i.appendChild(a),t.appendChild(i),n++}));for(let t=1;t<=e.locations.length;t++){let e=document.getElementById(`deletelocation${t}`);console.log(e),e.addEventListener("click",(()=>{this.deleteLocation(t)}))}}clearNavigation(){let e=document.getElementsByClassName("navbutton");for(;e.length>0;)e[0].parentNode.removeChild(e[0])}},d=new class{constructor(e){this.data=e,this.mainGrid=new t,this.tenten=3,this.eetkramen=2,this.drankkramen=1,this.toiletten=4,this.prullenbakken=5,this.hogebomen=2,this.bredebomen=3,this.schaduwbomen=1}getData(){return data}isGridFilled(e){let t=e.slice(e.indexOf("x")+1,e.indexOf("y")),n=e.slice(e.indexOf("y")+1,e.length);return this.mainGrid.array[t][n].getFilled()}setGridFill(e,t){let n=e.slice(e.indexOf("x")+1,e.indexOf("y")),i=e.slice(e.indexOf("y")+1,e.length);this.mainGrid.array[n][i].setFilled(t)}updateGridImages(e){switch(e){case"tent":this.tenten--;break;case"drink":this.drankkramen--;break;case"food":this.eetkramen--;break;case"toilet":this.toiletten--;break;case"prullenbak":this.prullenbakken--;break;case"hogeboom":this.hogebomen--;break;case"bredeboom":this.bredebomen--;break;case"schaduwboom":this.schaduwbomen--}}}(s,l),c=new class{constructor(e,t){this.data=t,this.navigationView=e}addLocation(){this.data.addLocation(new n),localStorage.setItem("data",JSON.stringify(this.data)),this.navigationView.refreshNavigation(this.data)}deleteLocation(e){this.data.deleteLocation(e),localStorage.setItem("data",JSON.stringify(this.data)),this.navigationView.refreshNavigation(this.data)}getData(){return this.data}refreshNavigation(){this.navigationView.refreshNavigation(this.data)}}(r,l),h=new class{constructor(e,t){this.data=t,this.mainView=e}setStep(e){let t=this.data.getLocation(e);console.log(t),null!=t.name&&null!=locations.visitors||this.mainView.generateStep(this.data,1,t)}}(s,l);s.init(d,c,h),r.init(d,c,h)})();
//# sourceMappingURL=main.js.map