(()=>{"use strict";class t{setName(t){this.name=t}setAmountOfVisitors(t){this.visitors=visitors}}class e{setName(t){this.name=t}setAmountOfVisitors(t){this.visitors=visitors}}let i=localStorage.getItem("data"),n=JSON.parse(i);console.log(n);const o=new class{constructor(t){t.locations.length<=0?(this.locations=[new e],this.currentLocation=null):null!=t?(console.log("hier"),this.locations=t.locations,this.currentLocation=t.currentLocation):(this.locations=[new e],this.currentLocation=null),console.log(this)}addLocation(t){this.locations.push(t)}deleteLocation(t){this.locations.splice(t-1,1)}getLocation(t){return this.locations[t-1]}}(n);localStorage.setItem("data",JSON.stringify(o));const a=new class{constructor(){this.windowSize=750,this.gridSize=15,this.paneSize=this.windowSize/this.gridSize}init(t,e,i){this.mainController=t,this.navigationController=e,this.stepController=i,this.generateGrid(),i.setStep(1)}generateStep(t,e,i){switch(e){case 1:this.generateStep1(t);break;case 2:console.log("stap 2");break;default:console.log(e+"default zou niet moeten!")}}generateStep1(t){let e=document.getElementById("configuration_block");e.className="h-full";let i=document.createElement("input");i.setAttribute("type","text"),i.id="nameInput";let n=document.createElement("label");n.htmlFor="nameInput",n.innerHTML="Name: ";let o=document.createElement("div");o.appendChild(n),o.appendChild(i);let a=document.createElement("input");a.setAttribute("type","number"),a.id="visitorsInput";let s=document.createElement("label");s.htmlFor="visitorseInput",s.innerHTML="Visitors: ";let l=document.createElement("div"),r=document.createElement("button");r.innerHTML="next step",r.className="p-2 bg-green-500 hover:bg-green-800 hover:text-white w-full",o.className="mb-5 flex flex-col",l.className="mb-5 flex flex-col",l.appendChild(s),l.appendChild(a),e.appendChild(o),e.appendChild(l),e.appendChild(r)}generateGrid(){let t=this.paneSize,e=this.windowSize;console.log(t);const i=document.getElementById("grid");i.style.position="relative",i.style.width=`${e}px`,i.style.height=`${e}px`;let n=this.gridSize,o=this.gridSize;for(let t=0;t<n;t++)for(let e=0;e<o;e++)a(e,t);function a(e,n){const o=document.createElement("div");o.className="border gridpane absolute border border-black hover:bg-gray-400",o.id=`x${e}y${n}`,o.style.left=e*t+"px",o.style.top=n*t+"px",o.style.height=`${t}px`,o.style.width=`${t}px`,o.style.position="absolute",i.appendChild(o)}}},s=new class{constructor(){}init(t,e,i){this.mainController=t,this.navigationController=e,this.stepController=i,document.getElementById("addLocation").addEventListener("click",(()=>{this.addLocation()})),this.navigationController.refreshNavigation()}test(){console.log(navigationController.getData())}deleteLocation(t){this.navigationController.deleteLocation(t)}addLocation(){this.navigationController.addLocation()}refreshNavigation(t){this.generateLocationMenu(t)}generateLocationMenu(t){this.clearNavigation();const e=document.getElementById("nav");let i=1;t.locations.forEach((function(t){null!=t.name&&t.name;const n=document.createElement("button");n.innerHTML="Naam",n.className="navbutton bg-gray-200 p-3 pb-2 hover:bg-gray-500 hover:text-white flex flex-row",n.id=`location${i}`;const o=document.createElement("button");o.id=`deletelocation${i}`,o.className=" bg-red-500 hover:bg-red-800 hover:text-white ml-4 pr-2 pl-2",o.innerHTML="X",n.appendChild(o),e.appendChild(n),i++}));for(let e=1;e<=t.locations.length;e++){let t=document.getElementById(`deletelocation${e}`);console.log(t),t.addEventListener("click",(()=>{this.deleteLocation(e)}))}}clearNavigation(){let t=document.getElementsByClassName("navbutton");for(;t.length>0;)t[0].parentNode.removeChild(t[0])}},l=new class{constructor(t,e){this.data=e,this.gridView=t}getData(){return data}generateGrid(){}}(a,o),r=new class{constructor(t,e){this.data=e,this.navigationView=t}addLocation(){this.data.addLocation(new t),localStorage.setItem("data",JSON.stringify(this.data)),this.navigationView.refreshNavigation(this.data)}deleteLocation(t){this.data.deleteLocation(t),localStorage.setItem("data",JSON.stringify(this.data)),this.navigationView.refreshNavigation(this.data)}getData(){return this.data}refreshNavigation(){this.navigationView.refreshNavigation(this.data)}}(s,o),c=new class{constructor(t,e){this.data=e,this.mainView=t}setStep(t){let e=this.data.getLocation(t);console.log(e),null!=e.name&&null!=locations.visitors||this.mainView.generateStep(this.data,1,e)}}(a,o);a.init(l,r,c),s.init(l,r,c)})();