(()=>{"use strict";class e{setName(e){this.name=e}setAmountOfVisitors(e){this.visitors=visitors}}class t{constructor(){this.isFilled=!1,this.fillType=null}setFilled(e){this.isFilled=e}getFilled(){return this.isFilled}setFillType(e){this.fillType=e}getFillType(){return this.fillType}}class i{constructor(){this.array=[];for(var e=0;e<15;e++){this.array[e]=[];for(var i=0;i<15;i++)this.array[e][i]=new t}}canPlace(e,t,i){return!1}placeItem(e,t,i){switch(i){case"tent":this.placeTent(e,t);break;case"drinkStand":this.placeDrinkStand(e,t);break;case"foodStand":this.placeFoodStand(e,t);break;case"toiletBuilding":this.placeToilets(e,t);break;case"trashcan":this.placeTrashcans(e,t);break;case"highTree":this.placeHighTrees(e,t);break;case"wideTree":this.placeWideTrees(e,t);break;case"shadowTree":this.placeShadowTrees(e,t)}}deleteItem(e,t,i){switch(i){case"tent":this.deleteTent(e,t);case"drinkStand":this.deleteDrinkStand(e,t);break;case"foodStand":this.deleteFoodStand(e,t);break;case"toiletBuilding":this.deleteToilets(e,t);break;case"trashcan":this.deleteTrashcans(e,t);break;case"highTree":this.deleteHighTrees(e,t);break;case"wideTree":this.deleteWideTrees(e,t);break;case"shadowTree":this.deleteShadowTrees(e,t)}}getItem(e,t){return this.array[e][t].getFillType()}placeTent(e,t){this.array[e-1][t-1].setFillType("tentSurface"),this.array[e][t-1].setFillType("tentSurface"),this.array[e+1][t-1].setFillType("tentSurface"),this.array[e-1][t].setFillType("tentSurface"),this.array[e+1][t].setFillType("tentSurface"),this.array[e-1][t+1].setFillType("tentSurface"),this.array[e][t+1].setFillType("tentSurface"),this.array[e+1][t+1].setFillType("tentSurface"),this.array[e][t].setFillType("tent")}deleteTent(e,t){this.array[e-1][t-1].setFillType(null),this.array[e][t-1].setFillType(null),this.array[e+1][t-1].setFillType(null),this.array[e-1][t].setFillType(null),this.array[e+1][t].setFillType(null),this.array[e-1][t+1].setFillType(null),this.array[e][t+1].setFillType(null),this.array[e+1][t+1].setFillType(null),this.array[e][t].setFillType(null)}placeFoodStand(e,t){this.array[e][t].setFillType("foodStand")}placeDrinkStand(e,t){this.array[e][t-1].setFillType("drinkStandSurface"),this.array[e][t].setFillType("drinkStand")}placeToilets(e,t){this.array[e][t-1].setFillType("toiletSurface"),this.array[e][t+1].setFillType("toiletSurface"),this.array[e][t].setFillType("toiletStand")}placeHighTrees(e,t){this.array[e][t].setFillType("highTree")}placeWideTrees(e,t){this.array[e][t].setFillType("wideTree"),this.array[e+1][t].setFillType("wideTreeSurface")}placeShadowTrees(e,t){this.array[e-1][t-1].setFillType("shadowTreeSurface"),this.array[e][t-1].setFillType("shadowTreeSurface"),this.array[e+1][t-1].setFillType("shadowTreeSurface"),this.array[e-1][t].setFillType("shadowTreeSurface"),this.array[e+1][t].setFillType("shadowTreeSurface"),this.array[e-1][t+1].setFillType("shadowTreeSurface"),this.array[e][t+1].setFillType("shadowTreeSurface"),this.array[e+1][t+1].setFillType("shadowTreeSurface"),this.array[e][t].setFillType("shadowTree")}placeTrashcans(e,t){this.array[e][t].setFillType("trashcan")}deleteFoodStand(e,t){this.array[e][t].setFillType(null)}deleteDrinkStand(e,t){this.array[e][t-1].setFillType(null),this.array[e][t].setFillType(null)}deleteToilets(e,t){this.array[e][t-1].setFillType(null),this.array[e][t+1].setFillType(null),this.array[e][t].setFillType(null)}deleteHighTrees(e,t){this.array[e][t].setFillType(null)}deleteWideTrees(e,t){this.array[e][t].setFillType(null),this.array[e+1][t].setFillType(null)}deleteShadowTrees(e,t){this.array[e-1][t-1].setFillType(null),this.array[e][t-1].setFillType(null),this.array[e+1][t-1].setFillType(null),this.array[e-1][t].setFillType(null),this.array[e+1][t].setFillType(null),this.array[e-1][t+1].setFillType(null),this.array[e][t+1].setFillType(null),this.array[e+1][t+1].setFillType(null),this.array[e][t].setFillType(null)}deleteTrashcans(e,t){this.array[e][t].setFillType(null)}}class a{setName(e){this.name=e}setAmountOfVisitors(e){this.visitors=visitors}}let r=localStorage.getItem("data"),l=JSON.parse(r);console.log(l);const s=new class{constructor(e){e.locations.length<=0?(this.locations=[new a],this.currentLocation=null):null!=e?(console.log("hier"),this.locations=e.locations,this.currentLocation=e.currentLocation):(this.locations=[new a],this.currentLocation=null),console.log(this)}addLocation(e){this.locations.push(e)}deleteLocation(e){this.locations.splice(e-1,1)}getLocation(e){return this.locations[e-1]}}(l);localStorage.setItem("data",JSON.stringify(s));const n=new class{constructor(){this.windowSize=750,this.gridSize=15,this.paneSize=this.windowSize/this.gridSize}init(e,t,i){this.mainController=e,this.navigationController=t,this.stepController=i}generateStep(e,t,i){switch(t){case 1:this.generateStep1(e);break;case 2:console.log("stap 2");break;default:console.log(t+"default zou niet moeten!")}}generateStep1(e){let t=document.getElementById("configuration_block");t.className="h-full";let i=document.createElement("input");i.setAttribute("type","text"),i.id="nameInput";let a=document.createElement("label");a.htmlFor="nameInput",a.innerHTML="Name: ";let r=document.createElement("div");r.appendChild(a),r.appendChild(i);let l=document.createElement("input");l.setAttribute("type","number"),l.id="visitorsInput";let s=document.createElement("label");s.htmlFor="visitorseInput",s.innerHTML="Visitors: ";let n=document.createElement("div"),o=document.createElement("button");o.innerHTML="next step",o.className="p-2 bg-green-500 hover:bg-green-800 hover:text-white w-full",r.className="mb-5 flex flex-col",n.className="mb-5 flex flex-col",n.appendChild(s),n.appendChild(l),t.appendChild(r),t.appendChild(n),t.appendChild(o)}},o=new class{constructor(){}init(e,t,i){this.mainController=e,this.navigationController=t,this.stepController=i,document.getElementById("addLocation").addEventListener("click",(()=>{this.addLocation()})),this.navigationController.refreshNavigation()}test(){console.log(navigationController.getData())}deleteLocation(e){this.navigationController.deleteLocation(e)}addLocation(){this.navigationController.addLocation()}refreshNavigation(e){this.generateLocationMenu(e)}generateLocationMenu(e){this.clearNavigation();const t=document.getElementById("nav");let i=1;e.locations.forEach((function(e){null!=e.name&&e.name;const a=document.createElement("button");a.innerHTML="Naam",a.className="navbutton bg-gray-200 p-3 pb-2 hover:bg-gray-500 hover:text-white flex flex-row",a.id=`location${i}`;const r=document.createElement("button");r.id=`deletelocation${i}`,r.className=" bg-red-500 hover:bg-red-800 hover:text-white ml-4 pr-2 pl-2",r.innerHTML="X",a.appendChild(r),t.appendChild(a),i++}));for(let t=1;t<=e.locations.length;t++){let e=document.getElementById(`deletelocation${t}`);console.log(e),e.addEventListener("click",(()=>{this.deleteLocation(t)}))}}clearNavigation(){let e=document.getElementsByClassName("navbutton");for(;e.length>0;)e[0].parentNode.removeChild(e[0])}},d=new class{constructor(){this.windowSize=750,this.gridSize=15,this.paneSize=this.windowSize/this.gridSize}init(e){this.gridController=e,this.generateGrid(),this.generateImages(),this.dropEvents()}generateGrid(){let e=this.paneSize,t=this.windowSize;console.log(e);const i=document.getElementById("grid");i.style.position="relative",i.style.width=`${t}px`,i.style.height=`${t}px`;let a=this.gridSize,r=this.gridSize;for(let e=0;e<a;e++)for(let t=0;t<r;t++)l(t,e);function l(t,a){const r=document.createElement("div");r.className="border gridpane absolute border border-gray-100 hover:bg-gray-400 dropzone",r.id=`x${t}y${a}`,r.style.left=t*e+"px",r.style.top=a*e+"px",r.style.height=`${e}px`,r.style.width=`${e}px`,r.style.position="absolute",i.appendChild(r)}}drawGridItems(){for(let e=0;e<this.gridSize;e++)for(let t=0;t<this.gridSize;t++){let i=this.gridController.getItem(e,t);console.log(i),document.getElementById("x"+e+"y"+t).style.backgroundColor="white","tentSurface"==i?document.getElementById("x"+e+"y"+t).style.backgroundColor="yellow":"drinkStandSurface"==i?document.getElementById("x"+e+"y"+t).style.backgroundColor="red":"toiletSurface"==i?document.getElementById("x"+e+"y"+t).style.backgroundColor="grey":"highTreeSurface"!=i&&"wideTreeSurface"!=i&&"shadowTreeSurface"!=i||(document.getElementById("x"+e+"y"+t).style.backgroundColor="green")}}generateImages(){let e=document.getElementById("images_block");e.className="h-full draggable-items";let t=document.createElement("div");t.className="mb-5 flex flex-col",t.id="imageList",t.setAttribute("draggable","true"),t.style.width="50px",t.style.height="50px",this.gridController.tenten>0&&this.generateImage("tent",t,"Tenten",this.gridController.tenten),this.gridController.drankkramen>0&&this.generateImage("drinkStand",t,"Drankkramen",this.gridController.drankkramen),this.gridController.eetkramen>0&&this.generateImage("foodStand",t,"Eetkramen",this.gridController.eetkramen),this.gridController.toiletten>0&&this.generateImage("toiletBuilding",t,"Toiletten",this.gridController.toiletten),this.gridController.bredebomen>0&&this.generateImage("wideTree",t,"Bredebomen",this.gridController.bredebomen),this.gridController.hogebomen>0&&this.generateImage("highTree",t,"Hogebomen",this.gridController.hogebomen),this.gridController.prullenbakken>0&&this.generateImage("trashcan",t,"Prullenbakken",this.gridController.prullenbakken),this.gridController.schaduwbomen>0&&this.generateImage("shadowTree",t,"Schaduwbomen",this.gridController.schaduwbomen),e.appendChild(t)}generateImage(e,t,i,a){var r=document.createElement("img");r.src="../src/images/"+e+".png",r.id=e,r.setAttribute("draggable","true");let l=document.createElement("label");l.htmlFor="amountInput",l.innerHTML=i+"="+a;let s=document.createElement("div");s.appendChild(r),s.appendChild(l),s.className="mb-4 flex flex-col w-full",t.appendChild(s)}dropEvents(){const e=document.querySelector(".dropzones");let t=null;function i(e){t=e.target}document.querySelector(".draggable-items").addEventListener("dragstart",i,!1),e.addEventListener("dragover",(e=>{e.preventDefault()})),e.addEventListener("drop",(e=>{e.preventDefault(),""!=t.parentNode.id&&this.gridController.deleteGridFill(t.parentNode.id,t.id),e.target.insertBefore(t,e.target.firstChild),this.gridController.setGridFill(e.target.id,t.id),t.addEventListener("dragstart",i),this.drawGridItems(),e.stopImmediatePropagation()}))}},h=new class{constructor(e){this.data=e}}(n,s),c=new class{constructor(e,t){this.data=t,this.navigationView=e}addLocation(){this.data.addLocation(new e),localStorage.setItem("data",JSON.stringify(this.data)),this.navigationView.refreshNavigation(this.data)}deleteLocation(e){this.data.deleteLocation(e),localStorage.setItem("data",JSON.stringify(this.data)),this.navigationView.refreshNavigation(this.data)}getData(){return this.data}refreshNavigation(){this.navigationView.refreshNavigation(this.data)}}(o,s),g=new class{constructor(e,t){this.data=t,this.mainView=e}setStep(e){}}(n,s),u=new class{constructor(e){this.data=e,this.mainGrid=new i,this.tenten=3,this.eetkramen=2,this.drankkramen=1,this.toiletten=4,this.prullenbakken=5,this.hogebomen=2,this.bredebomen=3,this.schaduwbomen=1}getData(){return data}isGridFilled(e){let t=e.slice(e.indexOf("x")+1,e.indexOf("y")),i=e.slice(e.indexOf("y")+1,e.length);return this.mainGrid.array[t][i].getFilled()}setGridFill(e,t){let i=e.slice(e.indexOf("x")+1,e.indexOf("y")),a=e.slice(e.indexOf("y")+1,e.length);i=parseInt(i),a=parseInt(a),this.mainGrid.canPlace(i,a,t)?alert("You can't place this item right here"):this.mainGrid.placeItem(i,a,t)}deleteGridFill(e,t){let i=e.slice(e.indexOf("x")+1,e.indexOf("y")),a=e.slice(e.indexOf("y")+1,e.length);i=parseInt(i),a=parseInt(a),this.mainGrid.deleteItem(i,a,t)}getItem(e,t){return this.mainGrid.getItem(e,t)}updateGridImages(e){switch(e){case"tent":this.tenten--;break;case"drink":this.drankkramen--;break;case"food":this.eetkramen--;break;case"toilet":this.toiletten--;break;case"prullenbak":this.prullenbakken--;break;case"hogeboom":this.hogebomen--;break;case"bredeboom":this.bredebomen--;break;case"schaduwboom":this.schaduwbomen--}}}(d,s);n.init(h,c,g),o.init(h,c,g),d.init(u)})();
//# sourceMappingURL=main.js.map