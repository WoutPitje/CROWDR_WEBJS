(()=>{"use strict";class e{setName(e){this.name=e}setAmountOfVisitors(e){this.visitors=visitors}}class t{constructor(){this.isFilled=!1,this.fillType=null}setFilled(e){this.isFilled=e}getFilled(){return this.isFilled}setFillType(e){this.fillType=e}getFillType(){return this.fillType}}class i{constructor(){this.array=[];for(var e=0;e<15;e++){this.array[e]=[];for(var i=0;i<15;i++)this.array[e][i]=new t}}}class n{setName(e){this.name=e}setAmountOfVisitors(e){this.visitors=visitors}}let a=localStorage.getItem("data"),o=JSON.parse(a);console.log(o);const r=new class{constructor(e){e.locations.length<=0?(this.locations=[new n],this.currentLocation=null):null!=e?(console.log("hier"),this.locations=e.locations,this.currentLocation=e.currentLocation):(this.locations=[new n],this.currentLocation=null),console.log(this)}addLocation(e){this.locations.push(e)}deleteLocation(e){this.locations.splice(e-1,1)}getLocation(e){return this.locations[e-1]}}(o);localStorage.setItem("data",JSON.stringify(r));const l=new class{constructor(){this.windowSize=750,this.gridSize=15,this.paneSize=this.windowSize/this.gridSize}init(e,t,i){this.mainController=e,this.navigationController=t,this.stepController=i}generateStep(e,t,i){switch(t){case 1:this.generateStep1(e);break;case 2:console.log("stap 2");break;default:console.log(t+"default zou niet moeten!")}}generateStep1(e){let t=document.getElementById("configuration_block");t.className="h-full";let i=document.createElement("input");i.setAttribute("type","text"),i.id="nameInput";let n=document.createElement("label");n.htmlFor="nameInput",n.innerHTML="Name: ";let a=document.createElement("div");a.appendChild(n),a.appendChild(i);let o=document.createElement("input");o.setAttribute("type","number"),o.id="visitorsInput";let r=document.createElement("label");r.htmlFor="visitorseInput",r.innerHTML="Visitors: ";let l=document.createElement("div"),s=document.createElement("button");s.innerHTML="next step",s.className="p-2 bg-green-500 hover:bg-green-800 hover:text-white w-full",a.className="mb-5 flex flex-col",l.className="mb-5 flex flex-col",l.appendChild(r),l.appendChild(o),t.appendChild(a),t.appendChild(l),t.appendChild(s)}},s=new class{constructor(){}init(e,t,i){this.mainController=e,this.navigationController=t,this.stepController=i,document.getElementById("addLocation").addEventListener("click",(()=>{this.addLocation()})),this.navigationController.refreshNavigation()}test(){console.log(navigationController.getData())}deleteLocation(e){this.navigationController.deleteLocation(e)}addLocation(){this.navigationController.addLocation()}refreshNavigation(e){this.generateLocationMenu(e)}generateLocationMenu(e){this.clearNavigation();const t=document.getElementById("nav");let i=1;e.locations.forEach((function(e){null!=e.name&&e.name;const n=document.createElement("button");n.innerHTML="Naam",n.className="navbutton bg-gray-200 p-3 pb-2 hover:bg-gray-500 hover:text-white flex flex-row",n.id=`location${i}`;const a=document.createElement("button");a.id=`deletelocation${i}`,a.className=" bg-red-500 hover:bg-red-800 hover:text-white ml-4 pr-2 pl-2",a.innerHTML="X",n.appendChild(a),t.appendChild(n),i++}));for(let t=1;t<=e.locations.length;t++){let e=document.getElementById(`deletelocation${t}`);console.log(e),e.addEventListener("click",(()=>{this.deleteLocation(t)}))}}clearNavigation(){let e=document.getElementsByClassName("navbutton");for(;e.length>0;)e[0].parentNode.removeChild(e[0])}},d=new class{constructor(){this.windowSize=750,this.gridSize=15,this.paneSize=this.windowSize/this.gridSize}init(e){this.gridController=e,this.generateGrid(),this.generateImages(),this.dropEvents()}generateGrid(){let e=this.paneSize,t=this.windowSize;console.log(e);const i=document.getElementById("grid");i.style.position="relative",i.style.width=`${t}px`,i.style.height=`${t}px`;let n=this.gridSize,a=this.gridSize;for(let e=0;e<n;e++)for(let t=0;t<a;t++)o(t,e);function o(t,n){const a=document.createElement("div");a.className="border gridpane absolute border border-black hover:bg-gray-400 dropzone",a.id=`x${t}y${n}`,a.style.left=t*e+"px",a.style.top=n*e+"px",a.style.height=`${e}px`,a.style.width=`${e}px`,a.style.position="absolute",i.appendChild(a)}}generateImages(){let e=document.getElementById("images_block");e.className="h-full draggable-items";let t=document.createElement("div");t.className="mb-5 flex flex-col",t.id="imageList",t.setAttribute("draggable","true"),t.style.width="50px",t.style.height="50px",this.gridController.tenten>0&&this.generateImage("tent",t,"Tenten",this.gridController.tenten),this.gridController.drankkramen>0&&this.generateImage("drink",t,"Drankkramen",this.gridController.drankkramen),this.gridController.eetkramen>0&&this.generateImage("food",t,"Eetkramen",this.gridController.eetkramen),this.gridController.toiletten>0&&this.generateImage("toilet",t,"Toiletten",this.gridController.toiletten),this.gridController.bredebomen>0&&this.generateImage("bredeboom",t,"Bredebomen",this.gridController.bredebomen),this.gridController.hogebomen>0&&this.generateImage("hogeboom",t,"Hogebomen",this.gridController.hogebomen),this.gridController.prullenbakken>0&&this.generateImage("prullenbak",t,"Prullenbakken",this.gridController.prullenbakken),this.gridController.schaduwbomen>0&&this.generateImage("schaduwboom",t,"Schaduwbomen",this.gridController.schaduwbomen),e.appendChild(t)}generateImage(e,t,i,n){var a=document.createElement("img");a.src="../src/images/"+e+".png",a.id=e,a.setAttribute("draggable","true");let o=document.createElement("label");o.htmlFor="amountInput",o.innerHTML=i+"="+n;let r=document.createElement("div");r.appendChild(a),r.appendChild(o),r.className="mb-4 flex flex-col w-full",t.appendChild(r)}dropEvents(){const e=document.querySelector(".dropzones");let t=null;function i(e){t=e.target}document.querySelector(".draggable-items").addEventListener("dragstart",i,!1),e.addEventListener("dragover",(e=>{e.preventDefault()})),e.addEventListener("drop",(e=>{e.preventDefault(),e.target.insertBefore(t,e.target.firstChild),this.gridController.setGridFill(e.target.id,t.id),t.addEventListener("dragstart",i),e.stopImmediatePropagation()}))}},h=new class{constructor(e){this.data=e}}(l,r),c=new class{constructor(e,t){this.data=t,this.navigationView=e}addLocation(){this.data.addLocation(new e),localStorage.setItem("data",JSON.stringify(this.data)),this.navigationView.refreshNavigation(this.data)}deleteLocation(e){this.data.deleteLocation(e),localStorage.setItem("data",JSON.stringify(this.data)),this.navigationView.refreshNavigation(this.data)}getData(){return this.data}refreshNavigation(){this.navigationView.refreshNavigation(this.data)}}(s,r),g=new class{constructor(e,t){this.data=t,this.mainView=e}setStep(e){}}(l,r),m=new class{constructor(e){this.data=e,this.mainGrid=new i,this.tenten=3,this.eetkramen=2,this.drankkramen=1,this.toiletten=4,this.prullenbakken=5,this.hogebomen=2,this.bredebomen=3,this.schaduwbomen=1}getData(){return data}isGridFilled(e){let t=e.slice(e.indexOf("x")+1,e.indexOf("y")),i=e.slice(e.indexOf("y")+1,e.length);return this.mainGrid.array[t][i].getFilled()}setGridFill(e,t){let i=e.slice(e.indexOf("x")+1,e.indexOf("y")),n=e.slice(e.indexOf("y")+1,e.length);this.mainGrid.array[i][n].setFilled(t),console.log(this.mainGrid.array[i][n])}updateGridImages(e){switch(e){case"tent":this.tenten--;break;case"drink":this.drankkramen--;break;case"food":this.eetkramen--;break;case"toilet":this.toiletten--;break;case"prullenbak":this.prullenbakken--;break;case"hogeboom":this.hogebomen--;break;case"bredeboom":this.bredebomen--;break;case"schaduwboom":this.schaduwbomen--}}}(d,r);l.init(h,c,g),s.init(h,c,g),d.init(m)})();
//# sourceMappingURL=main.js.map